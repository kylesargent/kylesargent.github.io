<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Image Comparison Gallery</title>
  <style>
    /* Elegant Mathematical Blog Style with Light Blue/Gray Tones */
    body {
      margin: 0 auto;
      padding: 40px 20px;
      max-width: 1800px;
      font-family: "Georgia", serif;
      background-color: #ffffff;
      color: #333;
      line-height: 1.6;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
      font-size: 2.4em;
    }
    /* Responsive grid container */
    .comparison-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(512px, 1fr));
      gap: 20px;
      margin: 0 auto;
    }
    /* Comparison block styles */
    .comparison-block {
      width: 100%;
      box-sizing: border-box;
    }
    .image-pair {
      display: flex;
      margin-bottom: 0px;
    }
    /* .image-container {
      flex: 1;
      position: relative;
      overflow: hidden;
      border: 0px solid #ccc;
    } */
    .image-container img {
      display: block;
      width: 100%;
      height: auto;
      margin: 0;
      padding: 0;
    }
    .original-container,
    .reconstructed-container {
      width: 100%;
    }
    .comparison-title {
      text-align: center;
      margin-bottom: 5px;
      font-weight: bold;
      font-size: 14px;
    }
    .reconstructed-container {
      position: relative;
    }
    .method-one,
    .method-two {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .method-two {
      clip-path: polygon(0% 0%, 0% 100%, 50% 100%, 50% 0%);
      transition: none;
    }
    .divider {
      position: absolute;
      width: 4px;
      background: #0066cc;
      top: 0;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
    }
    .slider-container {
      margin-top: 10px;
      width: 100%;
    }
    .slider {
      width: 100%;
      -webkit-appearance: none;
      height: 10px;
      border-radius: 5px;
      background: #d3d3d3;
      outline: none;
    }
    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #0066cc;
      cursor: pointer;
    }
    .slider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #0066cc;
      cursor: pointer;
    }
    .method-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 5px;
      font-size: 12px;
      color: #666;
    }
    .column-labels {
      display: flex;
      justify-content: space-between;
      margin: 10px 0;
      font-size: 16px;
      font-weight: bold;
    }
  </style>
  <!-- Optional: Include MathJax if you need math rendering -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <!-- Reusable function for creating an image comparison block -->
  <script>
    function createImageComparison(originalPath, method1Path, method2Path) {
      // Create a wrapper for the entire comparison block
      const wrapper = document.createElement('div');
      wrapper.classList.add('comparison-block');
      
      // Create the image-pair container
      const pairContainer = document.createElement('div');
      pairContainer.classList.add('image-pair');

      // Original image container
      const origContainer = document.createElement('div');
      origContainer.classList.add('image-container', 'original-container');
      const origTitle = document.createElement('div');
      // origTitle.classList.add('comparison-title');
      // origTitle.innerText = 'Original Image';
      const origImg = document.createElement('img');
      origImg.src = originalPath;
      origImg.alt = 'Original Image';
      origContainer.appendChild(origTitle);
      origContainer.appendChild(origImg);

      // Reconstructed image container
      const reconContainer = document.createElement('div');
      reconContainer.classList.add('image-container', 'reconstructed-container');
      const reconTitle = document.createElement('div');
      reconTitle.classList.add('comparison-title');
      reconTitle.innerText = 'Reconstructed Image';
      
      // Method 1 overlay
      const methodOneDiv = document.createElement('div');
      methodOneDiv.classList.add('method-one');
      const methodOneImg = document.createElement('img');
      methodOneImg.src = method1Path;
      methodOneImg.alt = 'Method 1 Reconstruction';
      methodOneDiv.appendChild(methodOneImg);
      
      // Method 2 overlay
      const methodTwoDiv = document.createElement('div');
      methodTwoDiv.classList.add('method-two');
      const methodTwoImg = document.createElement('img');
      methodTwoImg.src = method2Path;
      methodTwoImg.alt = 'Method 2 Reconstruction';
      methodTwoDiv.appendChild(methodTwoImg);
      
      // Divider element
      const divider = document.createElement('div');
      divider.classList.add('divider');
      
      // Assemble the reconstructed container
      reconContainer.appendChild(reconTitle);
      reconContainer.appendChild(methodOneDiv);
      reconContainer.appendChild(methodTwoDiv);
      reconContainer.appendChild(divider);
      
      // Append original and reconstructed containers to the pair container
      pairContainer.appendChild(origContainer);
      pairContainer.appendChild(reconContainer);
      
      // Create slider container
      const sliderContainer = document.createElement('div');
      sliderContainer.classList.add('slider-container');
      const slider = document.createElement('input');
      slider.type = 'range';
      slider.min = '0';
      slider.max = '100';
      slider.value = '50';
      slider.classList.add('slider');
      sliderContainer.appendChild(slider);
      const labels = document.createElement('div');
      labels.classList.add('method-labels');
      const label1 = document.createElement('span');
      label1.innerText = 'FlowMo-B';
      const label2 = document.createElement('span');
      label2.innerText = 'LlamaGen-32';
      labels.appendChild(label1);
      labels.appendChild(label2);
      sliderContainer.appendChild(labels);
      
      // Append the pair container and slider to the wrapper
      wrapper.appendChild(pairContainer);
      
      const columnLabels = document.createElement('div');
      columnLabels.classList.add('column-labels');
      const leftLabel = document.createElement('span');
      leftLabel.innerText = 'Original';
      const rightLabel = document.createElement('span');
      rightLabel.innerText = 'Reconstructed Image';
      columnLabels.appendChild(leftLabel);
      columnLabels.appendChild(rightLabel);
      wrapper.appendChild(columnLabels);
      
      wrapper.appendChild(sliderContainer);
      
      // Set up the slider event to update the clip path and divider position
      slider.addEventListener('input', function() {
        const value = slider.value;
        const percentage = 100 - value;
        methodTwoDiv.style.clipPath = `polygon(0% 0%, 0% 100%, ${percentage}% 100%, ${percentage}% 0%)`;
        divider.style.left = percentage + '%';
      });
      
      // Initialize the slider effect
      slider.dispatchEvent(new Event('input'));
      
      return wrapper;
    }
  </script>
</head>
<body>
  <h1>FlowMo-B Image Comparison Gallery</h1>
  <!-- Gallery container -->
  <div id="comparisonContainer" class="comparison-container"></div>
  <script>
    // Example usage: Replace these paths with your actual image URLs
    const container = document.getElementById('comparisonContainer');
    // Create 9 comparison blocks (or as many as desired)
    for (let i = 0; i < 6; i++) {
      const original = `images/flowmo/flowmo_b_gallery/col${i}_gt.png`;
      const method1  = `images/flowmo/flowmo_b_gallery/col${i}_llamagen.png`;
      const method2  = `images/flowmo/flowmo_b_gallery/col${i}_ours.png`;

      const block = createImageComparison(original, method1, method2);
      container.appendChild(block);
    }
  </script>
</body>
</html>